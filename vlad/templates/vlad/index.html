<!DOCTYPE html>
<head>
<script>
    document.addEventListener('DOMContentLoaded', () => {
      console.log('!!!');
        document.getElementById('parse').onclick = () => {
            fetch('https://api.coingecko.com/api/v3/global')
            // Put response into json form
            .then(response => {console.log(response); return response.json();})
            .then(data => {
            // Log data to the console
            console.log('__data:__', data);
            console.log('__data.data.market_cap_percentage:__', data.data.market_cap_percentage);
            console.log('__ JSON.stringify:__', JSON.stringify(data.data.market_cap_percentage));
            console.log('btc', data.data.market_cap_percentage.btc);
            <!-- console.log(JSON.stringify(data.data.market_cap_percentage)); -->
            document.getElementById('text').innerHTML = 'btc: ' + data.data.market_cap_percentage.btc;
            });
        }
    })
</script>
</head>
<body>
    <p id="text"> text </p>
    <button id="parse"> parse </button>
    <button id="show"> show </button>
    <ul>
    {% for i in cur %}
        <li> {{ i }}</li>
    {% endfor %}
</ul>
</body>